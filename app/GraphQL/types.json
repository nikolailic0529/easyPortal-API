{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "ID": {
            "type": "string",
            "format": "uuid"
        },
        "url": {
            "type": "string",
            "format": "uri",
            "pattern": "^(https?)://"
        },
        "CustomerStatus": {
            "type": "object",
            "required": [
                "id",
                "name"
            ],
            "properties": {
                "id": {
                    "$ref": "#/definitions/ID"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "Customer": {
            "additionProperties": false,
            "type": "object",
            "required": [
                "id",
                "name",
                "locations_count",
                "locations"
            ],
            "properties": {
                "id": {
                    "$ref": "#/definitions/ID"
                },
                "name": {
                    "type": "string"
                },
                "locations": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Location"
                    }
                },
                "locations_count": {
                    "type": "integer"
                },
                "contacts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Contact"
                    }
                },
                "contacts_count": {
                    "type": "integer"
                }
            }
        },
        "Location": {
            "additionProperties": false,
            "type": "object",
            "required": [
                "id",
                "postcode",
                "state",
                "line_one",
                "line_two",
                "lat",
                "lng"
            ],
            "properties": {
                "id": {
                    "$ref": "#/definitions/ID"
                },
                "postcode": {
                    "type": "string"
                },
                "state": {
                    "type": "string"
                },
                "line_one": {
                    "type": "string"
                },
                "line_two": {
                    "type": "string"
                },
                "types":{
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Type"
                    }
                },
                "lat": {
                    "type": ["string", "null"]
                },
                "lng": {
                    "type": ["string", "null"]
                }
            }
        },
        "Contact": {
            "additionProperties": false,
            "type": "object",
            "required": [
                "phone_valid"
            ],
            "properties": {
                "id": {
                    "$ref": "#/definitions/ID"
                },
                "name": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "phone_number": {
                    "type": "string"
                },
                "phone_valid": {
                    "type": "boolean"
                },
                "types":{
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Type"
                    }
                }
            }
        },
        "Type": {
            "additionProperties": false,
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "id": {
                    "$ref": "#/definitions/ID"
                },
                "name": {
                    "type": "string"
                },
                "key": {
                    "type": "string"
                }
            }
        },
        "Country": {
            "additionProperties": false,
            "type": "object",
            "required": [
                "id",
                "name",
                "code"
            ],
            "properties": {
                "id": {
                    "$ref": "#/definitions/ID"
                },
                "name": {
                    "type": "string"
                },
                "code": {
                    "type": "string"
                }
            }
        },
        "City":{
            "additionProperties": false,
            "type": "object",
            "required": [
                "id",
                "name",
                "country_id",
                "country"
            ],
            "properties": {
                "id": {
                    "$ref": "#/definitions/ID"
                },
                "name": {
                    "type": "string"
                },
                "country_id": {
                    "$ref": "#/definitions/ID"
                },
                "country": {
                    "$ref": "#/definitions/Country"
                }
            }
        }
    }
}
