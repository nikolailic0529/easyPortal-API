extend type Mutation {
  createQuoteRequest(
    input: CreateQuoteRequestInput!
  ): CreateQuoteRequestPayload
  @organization
  @me(permissions: ["assets-view"])
}

input CreateQuoteRequestInput {
  oem_id: ID! @rules(apply:["required","App\\Rules\\OemId"])
  customer_id: ID! @rules(apply:["required","App\\Rules\\CustomerId"])
  type_id: ID! @rules(apply:["required","App\\Rules\\QuoteTypeId"])
  message: String
  files: [Upload!] @rules(apply:["nullable","App\\Rules\\Image"])
  assets: [CreateQuoteRequestAssetsInput!]!
  contact_name: String! @rules(apply:["required"])
  contact_phone: String! @rules(apply:["required"])
  contact_email: String!@rules(apply:["required"])
}

input CreateQuoteRequestAssetsInput {
  asset_id: ID! @rules(apply:["required","App\\Rules\\AssetId"])
  duration_id: ID! @rules(apply:["required","App\\Rules\\DurationId"])
  service_level_id: ID! @rules(apply:["required","App\\Rules\\ServiceLevelId"])
}

type CreateQuoteRequestPayload {
  created: QuoteRequest!
}
