#import Scalars/*.graphql
#import Types/*.graphql

type Query {
    "Current user, `null` for guests."
    me: User

    "Link to perform Sign In, available only for guests."
    authSignIn: String! @guest          # TODO [GraphQL] URL type needed
}

type Mutation {
    "Return the link where the user should be redirected to complete sign-out."
    authSignOut: String! @guard         # TODO [GraphQL] URL type needed

    "Completes sign-in and returns current User if successful."
    authSignIn(code: String!, state: String!): User @guest
}
