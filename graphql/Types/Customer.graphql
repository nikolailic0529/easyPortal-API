type Customer {
  id: ID!
  name: String!
  type: Type! @belongsTo
  type_id: ID!
  status: Status! @belongsTo
  status_id: ID!
  assets_count: Int!
  locations_count: Int!
  locations: [Location!]! @morphMany
  contacts_count: Int!
  contacts: [Contact!]! @morphMany
  headquarter: Location @morphOne

  # Contracts
  contracts (
    where: DocumentsQuery @searchBy
    order: DocumentsSort @sortBy
  ): [Document!]!
  @me(permissions: ["view-contracts", "view-customers"])
  @hasMany(type: PAGINATOR)

  # Quotes
  quotes (
    where: DocumentsQuery @searchBy
    order: DocumentsSort @sortBy
  ): [Document!]!
  @me(permissions: ["view-quotes", "view-customers"])
  @hasMany(type: PAGINATOR)

  # Assets
  assets(
    where: AssetsQuery @searchBy
    order: AssetsSort @sortBy
  ): [Asset!]!
  @me(permissions: ["view-assets", "view-customers"])
  @hasMany(type: PAGINATOR)
}
